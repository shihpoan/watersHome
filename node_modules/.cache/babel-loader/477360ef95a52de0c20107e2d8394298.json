{"ast":null,"code":"var _jsxFileName = \"/Users/shihpoan/Desktop/react_Study/wsgood/src/ProgressDIY.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProgressDIY extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      percent: 0\n    }; // this.increase=this.increase.bind(this);\n    // this.decrease=this.decrease.bind(this);\n  } // increase(){\n  //     const percent = this.state.percent + 1;\n  //     this.setState({ percent },()=>{\n  //         if(this.state.percent >= this.props.value){\n  //             return;\n  //         }\n  //         this.tm = setTimeout(this.increase, 20);\n  //     })\n  // }\n  // decrease() {\n  //     const percent = this.state.percent - 1;\n  //     this.setState({ percent },()=>{\n  //       if (this.state.percent <= this.props.value) {\n  //         return;\n  //       }\n  //       this.tmTwo = setTimeout(this.decrease, 20);\n  //     });  \n  //   }\n\n\n  componentDidMount() {\n    this.setState({\n      percent: this.props.value\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // if(prevProps.value>this.props.value){\n    //     if(this.tm)\n    //     clearTimeout(this.tm);\n    //     this.decrease();\n    // }\n    // else if(prevProps.value<this.props.value){\n    // if(this.tmTwo)\n    //     clearTimeout(this.tmTwo);\n    // this.increase();\n    // }\n    if (prevProps.value !== this.props.value || prevState.percent != this.state.percent) {\n      if (this.state.percent > this.props.value) {\n        if (this.tm) clearTimeout(this.tm);\n        this.tmTwo = setTimeout(() => {\n          this.setState({\n            percent: this.state.percent - 1\n          });\n        }, 20);\n      } else if (this.state.percent < this.props.value) {\n        if (this.tmTwo) clearTimeout(this.tmTwo);\n        this.tm = setTimeout(() => {\n          this.setState({\n            percent: this.state.percent + 1\n          });\n        }, 20);\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-back\",\n        style: {\n          backgroundColor: 'rgb(0,0,0,0.2)',\n          width: '200px',\n          height: '7px',\n          borderRadius: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            backgroundColor: '#fe5196',\n            width: this.state.percent.toString() + '%',\n            height: '100%',\n            borderRadius: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), \"\\u76EE\\u524D\\u6BD4\\u7387\\uFF1A\", this.state.percent, \"\\uFF05\", /*#__PURE__*/_jsxDEV(\"button\", {\n        value: 90,\n        onClick: this.props.onClick,\n        children: \"\\u589E\\u52A0\\u6BD4\\u7387\\u81F390\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: 10,\n        onClick: this.props.onClick,\n        children: \"\\u6E1B\\u5C11\\u6BD4\\u7387\\u81F310\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ProgressDIY;","map":{"version":3,"sources":["/Users/shihpoan/Desktop/react_Study/wsgood/src/ProgressDIY.js"],"names":["React","Component","ProgressDIY","constructor","props","state","percent","componentDidMount","setState","value","componentDidUpdate","prevProps","prevState","tm","clearTimeout","tmTwo","setTimeout","render","backgroundColor","width","height","borderRadius","toString","onClick"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;AAEA,MAAMC,WAAN,SAA0BD,SAA1B,CAAmC;AAC/BE,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,OAAO,EAAC;AADD,KAAX,CAFc,CAKd;AACA;AACH,GAR8B,CAS/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL,CAAc;AAACF,MAAAA,OAAO,EAAC,KAAKF,KAAL,CAAWK;AAApB,KAAd;AACH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAsB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAID,SAAS,CAACF,KAAV,KAAkB,KAAKL,KAAL,CAAWK,KAA9B,IAAyCG,SAAS,CAACN,OAAV,IAAmB,KAAKD,KAAL,CAAWC,OAA1E,EAAmF;AAC/E,UAAG,KAAKD,KAAL,CAAWC,OAAX,GAAmB,KAAKF,KAAL,CAAWK,KAAjC,EAAuC;AACnC,YAAG,KAAKI,EAAR,EACIC,YAAY,CAAC,KAAKD,EAAN,CAAZ;AACJ,aAAKE,KAAL,GAAWC,UAAU,CAAC,MAAI;AAAC,eAAKR,QAAL,CAAc;AAACF,YAAAA,OAAO,EAAC,KAAKD,KAAL,CAAWC,OAAX,GAAmB;AAA5B,WAAd;AAA8C,SAApD,EAAqD,EAArD,CAArB;AACH,OAJD,MAKK,IAAG,KAAKD,KAAL,CAAWC,OAAX,GAAmB,KAAKF,KAAL,CAAWK,KAAjC,EAAuC;AACxC,YAAG,KAAKM,KAAR,EACID,YAAY,CAAC,KAAKC,KAAN,CAAZ;AACJ,aAAKF,EAAL,GAAQG,UAAU,CAAC,MAAI;AAAC,eAAKR,QAAL,CAAc;AAACF,YAAAA,OAAO,EAAC,KAAKD,KAAL,CAAWC,OAAX,GAAmB;AAA5B,WAAd;AAA8C,SAApD,EAAqD,EAArD,CAAlB;AACH;AACJ;AACJ;;AAGDW,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,KAAK,EAAE;AAACC,UAAAA,eAAe,EAAC,gBAAjB;AAAmCC,UAAAA,KAAK,EAAC,OAAzC;AAAkDC,UAAAA,MAAM,EAAC,KAAzD;AAA+DC,UAAAA,YAAY,EAAC;AAA5E,SAAtC;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,cAAf;AAA8B,UAAA,KAAK,EAAE;AAACH,YAAAA,eAAe,EAAC,SAAjB;AAA4BC,YAAAA,KAAK,EAAC,KAAKd,KAAL,CAAWC,OAAX,CAAmBgB,QAAnB,KAA8B,GAAhE;AAAqEF,YAAAA,MAAM,EAAC,MAA5E;AAAoFC,YAAAA,YAAY,EAAC;AAAjG;AAArC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,oCAIU,KAAKhB,KAAL,CAAWC,OAJrB,yBAKI;AAAQ,QAAA,KAAK,EAAE,EAAf;AAAmB,QAAA,OAAO,EAAE,KAAKF,KAAL,CAAWmB,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAQ,QAAA,KAAK,EAAE,EAAf;AAAmB,QAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWmB,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAYH;;AAxE8B;;AA0EnC,eAAerB,WAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass ProgressDIY extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            percent:0,\n        }\n        // this.increase=this.increase.bind(this);\n        // this.decrease=this.decrease.bind(this);\n    }\n    // increase(){\n    //     const percent = this.state.percent + 1;\n    //     this.setState({ percent },()=>{\n    //         if(this.state.percent >= this.props.value){\n    //             return;\n    //         }\n    //         this.tm = setTimeout(this.increase, 20);\n    //     })\n    // }\n\n    // decrease() {\n    //     const percent = this.state.percent - 1;\n    //     this.setState({ percent },()=>{\n    //       if (this.state.percent <= this.props.value) {\n    //         return;\n    //       }\n    //       this.tmTwo = setTimeout(this.decrease, 20);\n    //     });  \n    //   }\n\n    componentDidMount(){\n        this.setState({percent:this.props.value})\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        // if(prevProps.value>this.props.value){\n        //     if(this.tm)\n        //     clearTimeout(this.tm);\n        //     this.decrease();\n        // }\n        // else if(prevProps.value<this.props.value){\n        // if(this.tmTwo)\n        //     clearTimeout(this.tmTwo);\n        // this.increase();\n        // }\n        if((prevProps.value!==this.props.value) || (prevState.percent!=this.state.percent)){\n            if(this.state.percent>this.props.value){\n                if(this.tm)\n                    clearTimeout(this.tm)\n                this.tmTwo=setTimeout(()=>{this.setState({percent:this.state.percent-1})},20)\n            }\n            else if(this.state.percent<this.props.value){\n                if(this.tmTwo)\n                    clearTimeout(this.tmTwo)\n                this.tm=setTimeout(()=>{this.setState({percent:this.state.percent+1})},20)\n            }\n        }\n    }\n    \n\n    render(){\n        return(\n            <div>\n                <div className='progress-back' style={{backgroundColor:'rgb(0,0,0,0.2)', width:'200px', height:'7px',borderRadius:'10px'}}>\n                    <div className='progress-bar' style={{backgroundColor:'#fe5196', width:this.state.percent.toString()+'%', height:'100%', borderRadius:'10px'}}></div>\n                </div>\n                目前比率：{this.state.percent}％\n                <button value={90} onClick={this.props.onClick}>增加比率至90</button>\n                <button value={10} onClick={this.props.onClick}>減少比率至10</button>\n            </div>\n            \n            \n        );\n    }\n}\nexport default ProgressDIY;"]},"metadata":{},"sourceType":"module"}